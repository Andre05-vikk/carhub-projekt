{% extends 'pages/base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<!-- Sub banner start -->
<div class="sub-banner overview-bgi">
    <div class="container breadcrumb-area">
        <div class="breadcrumb-areas">
            <h1>{{ single_car.year }} {{ single_car.car_title }}</h1>
            <ul class="breadcrumbs">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'cars' %}">Cars</a></li>
                <li class="active">{{ single_car.car_title }}</li>
            </ul>
        </div>
    </div>
</div>
<!-- Sub Banner end -->

<div class="container py-4">
    <div class="row">
        <div class="col-lg-8">

            <!-- Main Image -->
            <div class="main-image mb-3">
                <img id="mainImage" src="{{ single_car.car_photo.url }}" class="img-fluid w-100" alt="{{ single_car.car_title }}">
            </div>

            <!-- Thumbnail Gallery -->
            <div class="row gallery mb-4">
                <div class="col">
                    <img src="{{ single_car.car_photo.url }}" class="img-fluid thumbnail" alt="Main photo" onclick="document.getElementById('mainImage').src=this.src">
                </div>
                {% if single_car.car_photo_1 %}
                <div class="col">
                    <img src="{{ single_car.car_photo_1.url }}" class="img-fluid thumbnail" alt="Car photo 1" onclick="document.getElementById('mainImage').src=this.src">
                </div>
                {% endif %}
                {% if single_car.car_photo_2 %}
                <div class="col">
                    <img src="{{ single_car.car_photo_2.url }}" class="img-fluid thumbnail" alt="Car photo 2" onclick="document.getElementById('mainImage').src=this.src">
                </div>
                {% endif %}
                {% if single_car.car_photo_3 %}
                <div class="col">
                    <img src="{{ single_car.car_photo_3.url }}" class="img-fluid thumbnail" alt="Car photo 3" onclick="document.getElementById('mainImage').src=this.src">
                </div>
                {% endif %}
                {% if single_car.car_photo_4 %}
                <div class="col">
                    <img src="{{ single_car.car_photo_4.url }}" class="img-fluid thumbnail" alt="Car photo 4" onclick="document.getElementById('mainImage').src=this.src">
                </div>
                {% endif %}
            </div>

            <style>
            .thumbnail {
                cursor: pointer;
                max-height: 100px;
                width: auto;
            }
            </style>

            <!-- Vehicle Overview -->
            <div class="overview-section mb-4">
                <h2>Vehicle Overview</h2>
                <div class="row specs">
                    <div class="col-sm-6">
                        <div class="spec-item">
                            <span class="label">Body Style:</span>
                            <span class="value">{{ single_car.body_style }}</span>
                        </div>
                        <div class="spec-item">
                            <span class="label">Engine:</span>
                            <span class="value">{{ single_car.engine }}</span>
                        </div>
                        <div class="spec-item">
                            <span class="label">Transmission:</span>
                            <span class="value">{{ single_car.transmission }}</span>
                        </div>
                        <div class="spec-item">
                            <span class="label">Exterior:</span>
                            <span class="value">{{ single_car.color }}</span>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="spec-item">
                            <span class="label">Interior:</span>
                            <span class="value">{{ single_car.interior }}</span>
                        </div>
                        <div class="spec-item">
                            <span class="label">Kilometers:</span>
                            <span class="value">{{ single_car.miles|intcomma }}</span>
                        </div>
                        <div class="spec-item">
                            <span class="label">Doors:</span>
                            <span class="value">{{ single_car.doors }}</span>
                        </div>
                        <div class="spec-item">
                            <span class="label">Passengers:</span>
                            <span class="value">{{ single_car.passengers }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div class="description-section mb-4">
                <h2>Description</h2>
                <div class="description-content">
                    {{ single_car.description|safe }}
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <div class="price-box mb-3">
                <h2 class="price">${{ single_car.price|intcomma }}</h2>
                <button class="btn btn-danger btn-block">SEND MESSAGE</button>
            </div>

            <div class="details-box mb-3">
                <h3>Refine Your Search</h3>
                <div class="specs-list">
                    <div class="spec-item">
                        <span class="label">Body Style:</span>
                        <span class="value">{{ single_car.body_style }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Engine:</span>
                        <span class="value">{{ single_car.engine }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Transmission:</span>
                        <span class="value">{{ single_car.transmission }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Exterior:</span>
                        <span class="value">{{ single_car.color }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Interior:</span>
                        <span class="value">{{ single_car.interior }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Kilometers:</span>
                        <span class="value">{{ single_car.miles|intcomma }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Doors:</span>
                        <span class="value">{{ single_car.doors }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Passengers:</span>
                        <span class="value">{{ single_car.passengers }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Vin #:</span>
                        <span class="value">{{ single_car.vin_no }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Fuel Type:</span>
                        <span class="value">{{ single_car.fuel_type }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="label">Owners:</span>
                        <span class="value">{{ single_car.no_of_owners }}</span>
                    </div>
                </div>
            </div>

                        <div class="contact-box">
                <h3>Questions?</h3>
                <div class="contact-info">
                    <p><i class="fas fa-map-marker-alt"></i> {{ single_car.city }}</p>
                    <p><i class="fas fa-envelope"></i> tolu@gmail.com</p>
                    <p><i class="fas fa-phone"></i> +372mynumber</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>


.main-image {
    border-radius: 4px;
    overflow: hidden;
}

.gallery .thumbnail {
    border-radius: 4px;
    cursor: pointer;
    transition: opacity 0.3s;
}

.gallery .thumbnail:hover {
    opacity: 0.8;
}

.overview-section h2,
.description-section h2,
.details-box h3 {
    font-size: 22px;
    margin-bottom: 20px;
}

.specs .spec-item,
.specs-list .spec-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.spec-item .label {
    color: #666;
    font-weight: 600;
}

.price-box {
    background: #fff;
    padding: 20px;
    border-radius: 4px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.price-box .price {
    color: #dc3545;
    font-size: 26px;
    margin-bottom: 15px;
}

.details-box,
.contact-box {
    background: #fff;
    padding: 20px;
    border-radius: 4px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.contact-info p {
    margin-bottom: 10px;
    color: #666;
}

.contact-info i {
    width: 20px;
    color: #dc3545;
}

.btn-danger {
    padding: 12px;
    font-weight: 600;
}
</style>
{% endblock %}
